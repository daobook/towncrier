
<!DOCTYPE html>

<html lang="zh_CN">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>Configuration Reference &#8212; Towncrier 17.08 文档</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/alabaster.css" />
    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/translations.js"></script>
    <link rel="index" title="索引" href="genindex.html" />
    <link rel="search" title="搜索" href="search.html" />
    <link rel="prev" title="Customising the News File Output" href="customisation/newsfile.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="configuration-reference">
<h1>Configuration Reference<a class="headerlink" href="#configuration-reference" title="永久链接至标题">¶</a></h1>
<p><code class="docutils literal notranslate"><span class="pre">towncrier</span></code> has many knobs and switches you can use, to customise it to your project’s needs.
The setup in the <a class="reference external" href="quickstart.html">Quick Start</a> doesn’t touch on many, but this document will detail each of these options for you!</p>
<p>For how to perform common customisation tasks, see <a class="reference external" href="customisation/index.html">Customisation</a>.</p>
<section id="tool-towncrier">
<h2><code class="docutils literal notranslate"><span class="pre">[tool.towncrier]</span></code><a class="headerlink" href="#tool-towncrier" title="永久链接至标题">¶</a></h2>
<p>All configuration for <code class="docutils literal notranslate"><span class="pre">towncrier</span></code> sits inside <code class="docutils literal notranslate"><span class="pre">pyproject.toml</span></code>, under the <code class="docutils literal notranslate"><span class="pre">tool.towncrier</span></code> namespace.
Please see <a class="reference external" href="https://github.com/toml-lang/toml">the TOML GitHub repo</a> for how to write TOML.</p>
<section id="top-level-keys">
<h3>Top level keys<a class="headerlink" href="#top-level-keys" title="永久链接至标题">¶</a></h3>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">package</span></code> – The package name of your project. (Python projects only)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">package_dir</span></code> – The folder your package lives. <code class="docutils literal notranslate"><span class="pre">./</span></code> by default, some projects might need to use <code class="docutils literal notranslate"><span class="pre">src</span></code>. (Python projects only)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">newsfile</span></code> – The filename of your news file. <code class="docutils literal notranslate"><span class="pre">NEWS.rst</span></code> by default.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">fragment_directory</span></code> – If you are not storing your newsfragments in your Python package, or aren’t using Python, this is the path to where your newsfragments will be put.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">template</span></code> – Path to an alternate template for generating the newsfile, if you have one.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">start_line</span></code> – The magic string that <code class="docutils literal notranslate"><span class="pre">towncrier</span></code> looks for when considering where the release notes should start. <code class="docutils literal notranslate"><span class="pre">..</span> <span class="pre">towncrier</span> <span class="pre">release</span> <span class="pre">notes</span> <span class="pre">start</span></code> by default.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">title_format</span></code> – A format string for the title of your project. <code class="docutils literal notranslate"><span class="pre">{name}</span> <span class="pre">{version}</span> <span class="pre">({project_date})</span></code> by default.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">issue_format</span></code> – A format string for rendering the issue/ticket number in newsfiles. <code class="docutils literal notranslate"><span class="pre">#{issue}</span></code> by default.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">underlines</span></code> – The characters used for underlining headers. <code class="docutils literal notranslate"><span class="pre">[&quot;=&quot;,</span> <span class="pre">&quot;-&quot;,</span> <span class="pre">&quot;~&quot;]</span></code> by default.</p></li>
</ul>
</section>
</section>
<section id="custom-fragment-types">
<h2>Custom fragment types<a class="headerlink" href="#custom-fragment-types" title="永久链接至标题">¶</a></h2>
<p><code class="docutils literal notranslate"><span class="pre">Towncrier</span></code> allows defining custom fragment types. Custom fragment types
will be used instead <code class="docutils literal notranslate"><span class="pre">towncrier</span></code> default ones, they are not combined.</p>
<p>Users can configure each of their own custom fragment types by adding tables to
the pyproject.toml named <code class="docutils literal notranslate"><span class="pre">[tool.towncrier.type.&lt;a</span> <span class="pre">custom</span> <span class="pre">fragment</span> <span class="pre">type&gt;]</span></code>.</p>
<p>These tables may include the following optional keys:</p>
<blockquote>
<div><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">name</span></code>: The description of the fragment type, as it must be included
in the news file. If omitted, it defaults to  its  fragment type,
but capitalized.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">showcontent</span></code>: Whether if the fragment contents should be included in the
news file. If omitted, it defaults to <code class="docutils literal notranslate"><span class="pre">true</span></code></p></li>
</ul>
</div></blockquote>
<p>For example, if you want your custom fragment types to be
<code class="docutils literal notranslate"><span class="pre">[&quot;feat&quot;,</span> <span class="pre">&quot;fix&quot;,</span> <span class="pre">&quot;chore&quot;,]</span></code> and you want all
of them to use the default configuration except <code class="docutils literal notranslate"><span class="pre">&quot;chore&quot;</span></code> you can do it as
follows:</p>
<div class="highlight-toml notranslate"><div class="highlight"><pre><span></span><span class="k">[tool.towncrier]</span><span class="w"></span>


<span class="k">[tool.towncrier.fragment.feat]</span><span class="w"></span>
<span class="k">[tool.towncrier.fragment.fix]</span><span class="w"></span>

<span class="k">[tool.towncrier.fragment.chore]</span><span class="w"></span>
<span class="w">    </span><span class="n">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;Other Tasks&quot;</span><span class="w"></span>
<span class="w">    </span><span class="n">showcontent</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">false</span><span class="w"></span>
</pre></div>
</div>
<section id="deprecated-defining-custom-fragment-types-with-an-array-of-toml-tables">
<h3>DEPRECATED: Defining custom fragment types with an array of toml tables<a class="headerlink" href="#deprecated-defining-custom-fragment-types-with-an-array-of-toml-tables" title="永久链接至标题">¶</a></h3>
<p>Users can create their own custom fragment types by adding an array of
tables to the pyproject.toml named <code class="docutils literal notranslate"><span class="pre">[[tool.towncrier.type]]</span></code>.</p>
<p>If still using this way to configure custom fragment types,
please notice that <code class="docutils literal notranslate"><span class="pre">fragment_types</span></code> must be empty or not provided.</p>
<p>Each custom type (<code class="docutils literal notranslate"><span class="pre">[[tool.towncrier.type]]</span></code>) has the following
mandatory keys:</p>
<blockquote>
<div><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">directory</span></code>: The type of the fragment.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">name</span></code>: The description of the fragment type, as it must be included
in the news file.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">showcontent</span></code>: Whether if the fragment contents should be included in the
news file.</p></li>
</ul>
</div></blockquote>
<p>For example:</p>
<div class="highlight-toml notranslate"><div class="highlight"><pre><span></span><span class="k">[tool.towncrier]</span><span class="w"></span>
<span class="k">[[tool.towncrier.type]]</span><span class="w"></span>
<span class="n">directory</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;deprecation&quot;</span><span class="w"></span>
<span class="n">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;Deprecations&quot;</span><span class="w"></span>
<span class="n">showcontent</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">true</span><span class="w"></span>

<span class="k">[[tool.towncrier.type]]</span><span class="w"></span>
<span class="n">directory</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;chore&quot;</span><span class="w"></span>
<span class="n">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;Other Tasks&quot;</span><span class="w"></span>
<span class="n">showcontent</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">false</span><span class="w"></span>
</pre></div>
</div>
</section>
</section>
</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="index.html">Towncrier</a></h1>








<h3>导航</h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="quickstart.html">Quick Start</a></li>
<li class="toctree-l1"><a class="reference internal" href="customisation/index.html">Customising <code class="docutils literal notranslate"><span class="pre">towncrier</span></code></a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Configuration Reference</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#tool-towncrier"><code class="docutils literal notranslate"><span class="pre">[tool.towncrier]</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#custom-fragment-types">Custom fragment types</a></li>
</ul>
</li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
      <li>Previous: <a href="customisation/newsfile.html" title="上一章">Customising the News File Output</a></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">快速搜索</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="转向" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2017, Amber Brown.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 4.5.0</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="_sources/configuration.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>